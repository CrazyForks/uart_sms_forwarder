version: '3.8'

services:
  uart_sms_forwarder:
    # 使用最新的镜像，也可以指定具体版本如：dushixiang/uart_sms_forwarder:v1.0.0
    image: dushixiang/uart_sms_forwarder:latest
    container_name: uart_sms_forwarder
    restart: unless-stopped

    ports:
      # 映射 8080 端口到主机
      - "8080:8080"

    volumes:
      # 持久化数据目录
      - ./data:/app/data
      # 持久化日志目录
      - ./logs:/app/logs
      # 挂载配置文件（首次运行前需要创建此文件）
      - ./config.yaml:/app/config.yaml

    # 如果需要访问串口设备，取消以下注释并修改设备路径
    # devices:
    #   - /dev/ttyUSB0:/dev/ttyUSB0

    # 如果需要访问串口设备，可能需要 privileged 权限
    # privileged: true

    environment:
      - TZ=Asia/Shanghai
